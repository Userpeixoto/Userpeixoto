<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planejamento de Pentest - Rafael Solito</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
            background-color: #f0f4f8;
            line-height: 1.8;
            color: #333;
        }
        h1, h2, h3 {
            color: #2c3e50;
        }
        h1 {
            text-align: center;
            padding-bottom: 20px;
        }
        .section {
            margin-bottom: 30px;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        ul {
            padding-left: 20px;
        }
        code {
            background-color: #f4f4f4;
            padding: 2px 4px;
            border-radius: 4px;
        }
        img {
            width: 30px;
            height: auto;
            vertical-align: middle;
            margin-right: 8px;
        }
        .tool-logo {
            display: inline-block;
            margin-right: 15px;
        }
        .tool-title {
            font-weight: bold;
            color: #34495e;
        }
        .centered {
            text-align: center;
        }
    </style>
</head>
<body>

    <h1>Planejamento de Pentest - Rafael Solito</h1>

    <div class="section">
        <h2>1. Informações Gerais do Ambiente</h2>
        <p><strong>ISP:</strong> Vivo Fibra (São Paulo, Brasil)</p>
        <p><strong>Modem:</strong> Vivo HGU (IP interno suspeito: 192.168.15.1, a confirmar)</p>
        <p><strong>Router:</strong> MikroTik RB (IP interno padrão: 192.168.88.1)</p>
        <p><strong>Portas Identificadas:</strong></p>
        <ul>
            <li>Winbox: Porta 8291</li>
            <li>SSH: Porta 22 (serviço com autenticação por senha)</li>
        </ul>
        <p><strong>Usuário:</strong> Suspeita-se que o nome de usuário padrão seja "admin", porém isso ainda precisa ser confirmado.</p>
        <p><strong>Firewall:</strong> Regras de port knocking aplicadas.</p>
        <p><strong>Outros Equipamentos:</strong></p>
        <ul>
            <li>Antena Aruba</li>
            <li>Sistema de backup possivelmente acessado remotamente via SSH (porta 22) com configuração de DMZ e DDNS</li>
        </ul>
        <p><strong>IP Externo:</strong> 179.111.165.102</p>
        <p><strong>Possíveis Recursos Ativos:</strong> DDNS e DMZ</p>
    </div>

    <div class="section">
        <h2>2. Objetivos</h2>
        <ul>
            <li>Identificar vulnerabilidades no serviço Winbox (porta 8291) e tentar explorar possíveis falhas de autenticação.</li>
            <li>Explorar vulnerabilidades na porta SSH (22) e realizar ataques de força bruta para acessar o sistema.</li>
            <li>Verificar falhas no esquema de port knocking configurado no MikroTik RB.</li>
            <li>Escanear a rede interna Wi-Fi e equipamentos conectados para encontrar vulnerabilidades.</li>
            <li>Verificar possíveis vulnerabilidades no sistema de backup acessado remotamente via SSH e protegido por DMZ e DDNS.</li>
        </ul>
    </div>

    <div class="section">
        <h2>3. Escopo do Pentest</h2>
        <ul>
            <li><strong>Endereço IP Externo:</strong> 179.111.165.102</li>
            <li><strong>Endereço IP Interno MikroTik RB:</strong> 192.168.88.1</li>
            <li><strong>Serviços Ativos:</strong>
                <ul>
                    <li>Winbox (Porta 8291)</li>
                    <li>SSH (Porta 22)</li>
                </ul>
            </li>
            <li><strong>Nota:</strong> O único scan de porta que funcionou sem ser dropado foi utilizando o parâmetro <code>-Pn</code>.</li>
        </ul>
    </div>

    <div class="section">
        <h2>4. Plano de Exploração e Penetração</h2>

        <h3>4.1. Exploração do Winbox (Porta 8291)</h3>
        <p>O serviço Winbox já apresentou vulnerabilidades que permitem a extração de credenciais de login sem autenticação, dependendo da versão do RouterOS do Mikrotik. Vou explorar essa possibilidade verificando primeiro a versão do firmware.</p>

        <h4>Verificando a Versão do RouterOS</h4>
        <p>Vou usar o Nmap para identificar a versão do RouterOS e determinar se há alguma vulnerabilidade conhecida.</p>
        <p><strong>Comando:</strong></p>
        <code>nmap -sV -p 8291 179.111.165.102</code>

        <p>Dependendo da versão identificada, posso avançar com o uso de exploits.</p>

        <h4>Exploração com Metasploit</h4>
        <p>Se o RouterOS estiver rodando uma versão vulnerável, usarei o Metasploit para tentar extrair as credenciais do Winbox.</p>
        <p><strong>Comando no Metasploit:</strong></p>
        <code>use auxiliary/scanner/winbox/winbox_creds</code><br>
        <code>set RHOSTS 179.111.165.102</code><br>
        <code>run</code>
        <p>Esse módulo tenta extrair as credenciais do serviço Winbox.</p>

        <h3>4.2. Ataque de Força Bruta no Winbox</h3>
        <p>Como o nome de usuário padrão do Winbox é conhecido (<code>admin</code>), vou realizar um ataque de força bruta na porta 8291 para tentar quebrar a senha.</p>
        <p><strong>Comando:</strong></p>
        <code>hydra -l admin -P /path/to/wordlist.txt -s 8291 179.111.165.102 winbox</code>
        <p>Aqui, preciso substituir <code>/path/to/wordlist.txt</code> por uma lista de senhas robusta que inclua possíveis variações de senhas comuns.</p>

        <h3>4.3. Ataque de Exaustão de Recursos (DoS)</h3>
        <p>Considerando que o hardware do Mikrotik pode ser limitado, vou explorar a vulnerabilidade por exaustão de recursos (Denial of Service - DoS). Enviar grandes volumes de tráfego UDP ou TCP para a porta 8291 pode causar lentidão ou até travamento do dispositivo.</p>
        <p><strong>Comando:</strong></p>
        <code>hping3 -S -p 8291 --flood 179.111.165.102</code>
        <p>Esse ataque deve gerar uma sobrecarga no roteador, forçando sua CPU a consumir recursos excessivos.</p>

        <h3>4.4. Exploração do HGU (192.168.15.1)</h3>
        <p>O HGU da Vivo também será alvo de um ataque de força bruta. Utilizarei os usuários padrão <code>admin</code> e <code>support</code>, já que as senhas provavelmente contêm partes do serial ou MAC do dispositivo. Posso tentar encontrar o MAC e serial na assinatura da ISP através do endereço e nome via Shodan e vazamentos TOR.</p>
        <p><strong>Comando:</strong></p>
        <code>hydra -l admin -P /path/to/password-list.txt 192.168.15.1 http-form-post "/login.cgi"</code>
        <p>Também tentarei com o usuário <code>support</code>. Para capturar corretamente a requisição de login e ajustar o ataque, usarei ferramentas como Burp Suite ou Wireshark para interceptar o formulário POST correto.</p>

        <h3>4.5. Coleta de Informações Adicionais com Nmap</h3>
        <p>Para identificar outros serviços potencialmente vulneráveis no HGU (como telnet ou SSH), executarei um scan completo com Nmap para mapear todas as portas e serviços expostos após a força bruta e ataque de DoS.</p>
        <p><strong>Comando:</strong></p>
        <code>nmap -sV -p 1-65535 192.168.15.1</code>

        <p>Esse scan deve revelar todos os serviços disponíveis e suas respectivas versões, possibilitando a exploração de outros vetores de ataque.</p>
    </div>

    <div class="section">
        <h2>5. Ferramentas de Pentest Utilizadas</h2>
        <div class="centered">
            <div class="tool-logo">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/35/Nmap_logo.svg/1280px-Nmap_logo.svg.png" alt="Nmap Logo">
                <span class="tool-title">Nmap</span>
            </div>
            <div class="tool-logo">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/Metasploit_logo_and_wordmark.svg/1280px-Metasploit_logo_and_wordmark.svg.png" alt="Metasploit Logo">
                <span class="tool-title">Metasploit</span>
            </div>
            <div class="tool-logo">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/Hydra_logo.svg/1280px-Hydra_logo.svg.png" alt="Hydra Logo">
                <span class="tool-title">Hydra</span>
            </div>
            <div class="tool-logo">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Wireshark_icon.svg/1280px-Wireshark_icon.svg.png" alt="Wireshark Logo">
                <span class="tool-title">Wireshark</span>
            </div>
            <div class="tool-logo">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Tux.svg/1024px-Tux.svg.png" alt="hping3 Logo">
                <span class="tool-title">hping3</span>
            </div>
        </div>
    </div>

</body>
</html>